{"id":"shotgun-cli-11w","title":"Fase 5: Adaptar GeminiWeb como Provider (Legado)","description":"Criar adapter em internal/platform/gemini/provider.go:\n\n## WebProvider struct\n- executor *Executor (existente)\n- config Config\n\n## Métodos implementando Provider interface\n- NewWebProvider(cfg llm.Config) (*WebProvider, error)\n- Send(ctx, content) - Delega para executor.Send()\n- SendWithProgress(ctx, content, progress) - Delega para executor.SendWithProgress()\n- Name() → 'GeminiWeb'\n- IsAvailable() → IsAvailable() existente\n- IsConfigured() → IsConfigured() existente\n- ValidateConfig() → Verifica binário e configuração\n\n## Objetivo\n- Manter retrocompatibilidade com sistema atual\n- Não requer mudanças no Executor existente\n- Apenas adapta para nova interface\n\n## Estimativa: 30 min","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-05T11:48:57.917595047-03:00","created_by":"diogo","updated_at":"2026-01-05T11:48:57.917595047-03:00","dependencies":[{"issue_id":"shotgun-cli-11w","depends_on_id":"shotgun-cli-6xk","type":"blocks","created_at":"2026-01-05T11:49:43.82764674-03:00","created_by":"diogo"},{"issue_id":"shotgun-cli-11w","depends_on_id":"shotgun-cli-kjf","type":"blocks","created_at":"2026-01-05T11:49:57.011979974-03:00","created_by":"diogo"},{"issue_id":"shotgun-cli-11w","depends_on_id":"shotgun-cli-a3k","type":"blocks","created_at":"2026-01-05T11:49:57.018277688-03:00","created_by":"diogo"},{"issue_id":"shotgun-cli-11w","depends_on_id":"shotgun-cli-bnl","type":"blocks","created_at":"2026-01-05T11:49:57.024386865-03:00","created_by":"diogo"}]}
{"id":"shotgun-cli-19n","title":"Fase 3: Implementar Provider Anthropic","description":"Criar pacote internal/platform/anthropic/ com:\n\n## Arquivos\n1. client.go - Cliente HTTP para API Anthropic\n2. types.go - Structs request/response\n3. models.go - Lista de modelos válidos\n4. client_test.go - Testes com mock HTTP\n\n## Client struct\n- apiKey, baseURL, model, timeout, httpClient\n\n## Métodos implementando Provider interface\n- Send(ctx, content) - POST /v1/messages\n- SendWithProgress(ctx, content, progress)\n- Name() → 'Anthropic'\n- IsAvailable() → true\n- IsConfigured() → apiKey != '' \u0026\u0026 model != ''\n- ValidateConfig()\n\n## Headers\n- Content-Type: application/json\n- x-api-key: {apiKey}\n- anthropic-version: 2023-06-01\n\n## Request body\n- model, max_tokens, messages[]\n\n## Response parsing\n- Extrair texto dos content blocks (type: 'text')\n\n## Modelos suportados\n- claude-3-5-sonnet-latest, claude-3-5-haiku-latest, claude-3-opus-latest, etc.\n\n## Estimativa: 1.5 horas","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-05T11:48:39.367989186-03:00","created_by":"diogo","updated_at":"2026-01-05T11:48:39.367989186-03:00","dependencies":[{"issue_id":"shotgun-cli-19n","depends_on_id":"shotgun-cli-6xk","type":"blocks","created_at":"2026-01-05T11:49:43.814850722-03:00","created_by":"diogo"},{"issue_id":"shotgun-cli-19n","depends_on_id":"shotgun-cli-kjf","type":"blocks","created_at":"2026-01-05T11:49:56.936477682-03:00","created_by":"diogo"},{"issue_id":"shotgun-cli-19n","depends_on_id":"shotgun-cli-a3k","type":"blocks","created_at":"2026-01-05T11:49:56.943006103-03:00","created_by":"diogo"},{"issue_id":"shotgun-cli-19n","depends_on_id":"shotgun-cli-bnl","type":"blocks","created_at":"2026-01-05T11:49:56.949042612-03:00","created_by":"diogo"}]}
{"id":"shotgun-cli-3ds","title":"Add accessibility improvements for screen readers","description":"**Problem:** No accessibility considerations in the TUI implementation.\n\n**Solution:** \n- Add ARIA-like descriptions for screen readers\n- Ensure sufficient color contrast\n- Consider adding audio feedback for key actions","status":"open","priority":3,"issue_type":"feature","created_at":"2026-01-02T12:59:22.908069435-03:00","created_by":"diogo","updated_at":"2026-01-02T12:59:22.908069435-03:00"}
{"id":"shotgun-cli-4wi","title":"Fase 12: Revisão Final e Testes E2E","description":"Checklist final de implementação:\n\n## Verificações\n- [ ] Todos os arquivos criados\n- [ ] Testes unitários passando\n- [ ] go build sem erros\n- [ ] go vet sem warnings\n- [ ] golangci-lint passando\n\n## Testes E2E manuais\n- [ ] Configurar OpenAI e testar send\n- [ ] Configurar Anthropic e testar send\n- [ ] Configurar Gemini API e testar send\n- [ ] Testar GeminiWeb (legado)\n- [ ] Testar TUI wizard com cada provider\n- [ ] Testar llm status/doctor/list\n\n## Retrocompatibilidade\n- [ ] gemini.enabled ainda funciona\n- [ ] Usuários existentes não precisam mudar nada\n\n## Estimativa: 30 min","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-05T11:49:35.902619421-03:00","created_by":"diogo","updated_at":"2026-01-05T11:49:35.902619421-03:00","dependencies":[{"issue_id":"shotgun-cli-4wi","depends_on_id":"shotgun-cli-6xk","type":"blocks","created_at":"2026-01-05T11:49:43.872161303-03:00","created_by":"diogo"},{"issue_id":"shotgun-cli-4wi","depends_on_id":"shotgun-cli-bsd","type":"blocks","created_at":"2026-01-05T11:49:57.095381825-03:00","created_by":"diogo"}]}
{"id":"shotgun-cli-64b","title":"Show elapsed time during Gemini API calls","description":"**Problem:** During Gemini API calls, users see \"⏳ Sending to Gemini...\" but no animated feedback. For operations that can take 30+ seconds, this creates uncertainty.\n\n**Solution:** Add elapsed time display:\n```go\nfunc (m *ReviewModel) renderGeminiStatus() string {\n    if m.geminiSending {\n        elapsed := time.Since(m.geminiStartTime)\n        return fmt.Sprintf(\"⏳ Sending to Gemini... (%s)\", elapsed.Round(time.Second))\n    }\n}\n```","status":"open","priority":3,"issue_type":"feature","created_at":"2026-01-02T12:59:18.441190076-03:00","created_by":"diogo","updated_at":"2026-01-02T12:59:18.441190076-03:00"}
{"id":"shotgun-cli-6tx","title":"Fase 9: Atualizar TUI Wizard","description":"Modificar internal/ui/wizard.go e relacionados:\n\n## Novos tipos\n### LLMConfig struct (substitui GeminiConfig para novo fluxo)\n- Provider string\n- APIKey string\n- BaseURL string\n- Model string\n- Timeout int\n- SaveResponse bool\n- BinaryPath string (legado)\n- BrowserRefresh string (legado)\n\n### WizardConfig atualizado\n- LLM LLMConfig (novo)\n- Gemini GeminiConfig (manter para retrocompatibilidade)\n- Context ContextConfig\n\n## Atualizar sendToLLMCmd()\n- Construir llm.Config a partir de wizardConfig.LLM\n- Criar provider via CreateLLMProvider()\n- Usar provider.SendWithProgress() para callback de progresso\n- Salvar resposta se configurado\n\n## Atualizar cmd/root.go - launchTUIWizard()\n- Passar LLMConfig com valores do Viper\n- Manter GeminiConfig para compatibilidade\n\n## Estimativa: 1 hora","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-05T11:49:21.293145885-03:00","created_by":"diogo","updated_at":"2026-01-05T11:49:21.293145885-03:00","dependencies":[{"issue_id":"shotgun-cli-6tx","depends_on_id":"shotgun-cli-6xk","type":"blocks","created_at":"2026-01-05T11:49:43.852819792-03:00","created_by":"diogo"},{"issue_id":"shotgun-cli-6tx","depends_on_id":"shotgun-cli-dey","type":"blocks","created_at":"2026-01-05T11:49:57.075528505-03:00","created_by":"diogo"}]}
{"id":"shotgun-cli-6xk","title":"Epic: Multi-Provider LLM Integration","description":"Implementar arquitetura multi-provider para shotgun-cli permitindo escolha entre OpenAI, Anthropic, Google Gemini e GeminiWeb (legado).\n\n## Objetivos\n- Configuração flexível de base-url, api-key e model por provider\n- Fácil adição de novos providers no futuro\n- Suporte a endpoints customizados (OpenRouter, Azure, proxies)\n- Migração transparente do sistema atual (GeminiWeb)\n\n## Providers Suportados\n1. OpenAI - API compatível com OpenAI (GPT-4, GPT-4o, etc.)\n2. Anthropic - API Claude (Claude 3.5 Sonnet, Claude 3 Opus, etc.)\n3. Google Gemini - API Google Generative AI (Gemini 2.5, etc.)\n4. GeminiWeb (legado) - Integração via binário externo geminiweb\n\n## Estimativa: ~12 horas\n\n## Referência: PLAN.md","status":"open","priority":1,"issue_type":"epic","created_at":"2026-01-05T11:47:53.676093355-03:00","created_by":"diogo","updated_at":"2026-01-05T11:47:53.676093355-03:00"}
{"id":"shotgun-cli-7ig","title":"Fase 6: Criar Composition Root - Registro de Providers","description":"Criar arquivo cmd/providers.go:\n\n## Variável global\n- providerRegistry *llm.Registry\n\n## init()\n- Criar registry\n- Registrar OpenAI\n- Registrar Anthropic\n- Registrar Gemini API\n- Registrar GeminiWeb\n\n## Funções exportadas\n- CreateLLMProvider(cfg llm.Config) (llm.Provider, error)\n  - Cria provider via registry\n  - Valida configuração\n- GetProviderRegistry() *llm.Registry\n\n## Estimativa: 30 min","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-05T11:48:57.963935023-03:00","created_by":"diogo","updated_at":"2026-01-05T11:48:57.963935023-03:00","dependencies":[{"issue_id":"shotgun-cli-7ig","depends_on_id":"shotgun-cli-6xk","type":"blocks","created_at":"2026-01-05T11:49:43.833973338-03:00","created_by":"diogo"},{"issue_id":"shotgun-cli-7ig","depends_on_id":"shotgun-cli-7mu","type":"blocks","created_at":"2026-01-05T11:49:57.031568002-03:00","created_by":"diogo"},{"issue_id":"shotgun-cli-7ig","depends_on_id":"shotgun-cli-19n","type":"blocks","created_at":"2026-01-05T11:49:57.037638616-03:00","created_by":"diogo"},{"issue_id":"shotgun-cli-7ig","depends_on_id":"shotgun-cli-fr8","type":"blocks","created_at":"2026-01-05T11:49:57.043582379-03:00","created_by":"diogo"},{"issue_id":"shotgun-cli-7ig","depends_on_id":"shotgun-cli-11w","type":"blocks","created_at":"2026-01-05T11:49:57.049721101-03:00","created_by":"diogo"}]}
{"id":"shotgun-cli-7mu","title":"Fase 2: Implementar Provider OpenAI","description":"Criar pacote internal/platform/openai/ com:\n\n## Arquivos\n1. client.go - Cliente HTTP para API OpenAI\n2. types.go - Structs request/response\n3. models.go - Lista de modelos válidos\n4. client_test.go - Testes com mock HTTP\n\n## Client struct\n- apiKey, baseURL, model, timeout, httpClient\n\n## Métodos implementando Provider interface\n- Send(ctx, content) - POST /chat/completions\n- SendWithProgress(ctx, content, progress)\n- Name() → 'OpenAI'\n- IsAvailable() → true\n- IsConfigured() → apiKey != '' \u0026\u0026 model != ''\n- ValidateConfig()\n\n## Headers\n- Content-Type: application/json\n- Authorization: Bearer {apiKey}\n\n## Modelos suportados\n- gpt-4o, gpt-4o-mini, gpt-4-turbo, gpt-4, gpt-3.5-turbo, o1-preview, o1-mini\n\n## Estimativa: 1.5 horas","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-05T11:48:39.321984624-03:00","created_by":"diogo","updated_at":"2026-01-05T11:48:39.321984624-03:00","dependencies":[{"issue_id":"shotgun-cli-7mu","depends_on_id":"shotgun-cli-6xk","type":"blocks","created_at":"2026-01-05T11:49:43.807679453-03:00","created_by":"diogo"},{"issue_id":"shotgun-cli-7mu","depends_on_id":"shotgun-cli-kjf","type":"blocks","created_at":"2026-01-05T11:49:56.917123126-03:00","created_by":"diogo"},{"issue_id":"shotgun-cli-7mu","depends_on_id":"shotgun-cli-a3k","type":"blocks","created_at":"2026-01-05T11:49:56.923604198-03:00","created_by":"diogo"},{"issue_id":"shotgun-cli-7mu","depends_on_id":"shotgun-cli-bnl","type":"blocks","created_at":"2026-01-05T11:49:56.929856345-03:00","created_by":"diogo"}]}
{"id":"shotgun-cli-951","title":"Fix race condition in iterative scan goroutines","description":"**File:** `internal/ui/wizard.go`, lines 900-967\n\n**Problem:** The `iterativeScanCmd` accesses `m.scanState` fields from both the main goroutine and spawned goroutine without synchronization, causing potential race conditions.\n\n**Solution:** Use channels properly or switch to `tea.Batch` with separate progress polling.","status":"open","priority":1,"issue_type":"bug","created_at":"2026-01-02T12:58:49.995970745-03:00","created_by":"diogo","updated_at":"2026-01-02T12:58:49.995970745-03:00"}
{"id":"shotgun-cli-9ds","title":"Fase 11: Documentar no README","description":"Atualizar README.md com seção LLM Integration:\n\n## Conteúdo\n### Tabela de Providers\n- Provider | API Key Required | Models\n- openai | Yes | gpt-4o, gpt-4-turbo, o1-preview\n- anthropic | Yes | claude-3-5-sonnet, claude-3-opus\n- gemini | Yes | gemini-2.5-flash, gemini-2.5-pro\n- geminiweb | No | gemini-2.5-flash\n\n### Quick Setup por Provider\n- OpenAI: config set llm.provider/api-key/model\n- Anthropic: config set llm.provider/api-key/model\n- Google Gemini: config set llm.provider/api-key/model\n- GeminiWeb: instalação + auto-login\n\n### Custom Endpoints\n- OpenRouter exemplo\n- Azure OpenAI exemplo\n\n### Diagnostics\n- llm status\n- llm doctor\n- llm list\n\n## Estimativa: 30 min","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-05T11:49:35.856448478-03:00","created_by":"diogo","updated_at":"2026-01-05T11:49:35.856448478-03:00","dependencies":[{"issue_id":"shotgun-cli-9ds","depends_on_id":"shotgun-cli-6xk","type":"blocks","created_at":"2026-01-05T11:49:43.865856927-03:00","created_by":"diogo"},{"issue_id":"shotgun-cli-9ds","depends_on_id":"shotgun-cli-bsd","type":"blocks","created_at":"2026-01-05T11:49:57.089284261-03:00","created_by":"diogo"}]}
{"id":"shotgun-cli-a3k","title":"Fase 1.2: Criar Config unificada","description":"Criar arquivo internal/core/llm/config.go com:\n\n## Config struct\n- Provider ProviderType\n- APIKey string\n- BaseURL string\n- Model string\n- Timeout int\n- BinaryPath string (GeminiWeb)\n- BrowserRefresh string (GeminiWeb)\n- MaxTokens int (opcional)\n- Temperature float64 (opcional)\n\n## Métodos\n- DefaultConfigs() map[ProviderType]Config\n- Validate() error\n- MaskAPIKey() string\n\n## Defaults por provider\n- OpenAI: api.openai.com/v1, gpt-4o, 300s\n- Anthropic: api.anthropic.com, claude-3-5-sonnet-latest, 300s\n- Gemini: generativelanguage.googleapis.com/v1beta, gemini-2.5-flash, 300s\n\n## Estimativa: 30 min","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-05T11:48:10.039489291-03:00","created_by":"diogo","updated_at":"2026-01-05T11:48:10.039489291-03:00","dependencies":[{"issue_id":"shotgun-cli-a3k","depends_on_id":"shotgun-cli-6xk","type":"blocks","created_at":"2026-01-05T11:49:43.794560863-03:00","created_by":"diogo"}]}
{"id":"shotgun-cli-ahx","title":"Convert state-mutating setters to use messages","description":"**File:** `internal/ui/screens/review.go`, lines 379-405\n\n**Problem:** Setter methods like `SetGenerated()`, `SetXxx()` mutate state outside the Update function, breaking the MVU pattern.\n\n**Solution:** Convert setters to return new model or use messages. State should only change in response to messages within Update.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-02T12:59:11.287080675-03:00","created_by":"diogo","updated_at":"2026-01-02T12:59:11.287080675-03:00"}
{"id":"shotgun-cli-b7c","title":"Remove unused code in progress component","description":"**File:** `internal/ui/components/progress.go`\n\n**Unused methods:**\n- `UpdateFromScanner()` (line 58)\n- `UpdateFromGenerator()` (line 62)\n- `GetSpinnerTickCmd()` (line 276)\n\n**File:** `internal/ui/wizard.go`\n- `writeFile()` (line 852) - actual file writing happens in `saveGeneratedContent()`\n\n**Solution:** Delete these unused methods to reduce code maintenance burden.","status":"open","priority":3,"issue_type":"chore","created_at":"2026-01-02T12:59:21.242260994-03:00","created_by":"diogo","updated_at":"2026-01-02T12:59:21.242260994-03:00"}
{"id":"shotgun-cli-bdp","title":"Add confirmation dialogs for destructive actions","description":"**Problem:** No confirmation when:\n- Pressing Ctrl+Q to quit mid-wizard\n- Overwriting an existing generated file\n- Navigating back (losing progress in current step)\n\n**Solution:** Add confirmation modal for these destructive actions.","status":"open","priority":2,"issue_type":"feature","created_at":"2026-01-02T12:59:13.336147604-03:00","created_by":"diogo","updated_at":"2026-01-02T12:59:13.336147604-03:00"}
{"id":"shotgun-cli-bnl","title":"Fase 1.3: Criar Registry de Providers (Factory)","description":"Criar arquivo internal/core/llm/registry.go com:\n\n## Registry struct\n- mu sync.RWMutex\n- creators map[ProviderType]ProviderCreator\n\n## Métodos\n- NewRegistry() *Registry\n- Register(providerType, creator)\n- Create(cfg Config) (Provider, error)\n- SupportedProviders() []ProviderType\n\n## ProviderCreator type\n- func(cfg Config) (Provider, error)\n\n## Estimativa: 20 min","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-05T11:48:10.090310244-03:00","created_by":"diogo","updated_at":"2026-01-05T11:48:10.090310244-03:00","dependencies":[{"issue_id":"shotgun-cli-bnl","depends_on_id":"shotgun-cli-6xk","type":"blocks","created_at":"2026-01-05T11:49:43.80128725-03:00","created_by":"diogo"}]}
{"id":"shotgun-cli-bsd","title":"Fase 10: Escrever Testes","description":"Criar testes para todo o sistema:\n\n## internal/core/llm/provider_test.go\n- TestIsValidProvider\n- TestConfigValidate (múltiplos cenários)\n- TestMaskAPIKey\n\n## internal/platform/openai/client_test.go\n- TestClient_Send_Success (mock HTTP server)\n- TestClient_Send_APIError\n- TestClient_Send_EmptyChoices\n- TestClient_NewClient_Validation\n\n## internal/platform/anthropic/client_test.go\n- TestClient_Send_Success (mock HTTP server)\n- TestClient_Send_APIError\n- TestClient_ContentBlocks_Parsing\n\n## internal/platform/geminiapi/client_test.go\n- TestClient_Send_Success (mock HTTP server)\n- TestClient_Send_APIError\n- TestClient_Candidates_Parsing\n\n## Testes de integração (opcional, build tag: integration)\n- Requerem API keys reais via env vars\n- Testam chamadas reais aos endpoints\n\n## Estimativa: 2 horas","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-05T11:49:21.344030762-03:00","created_by":"diogo","updated_at":"2026-01-05T11:49:21.344030762-03:00","dependencies":[{"issue_id":"shotgun-cli-bsd","depends_on_id":"shotgun-cli-6xk","type":"blocks","created_at":"2026-01-05T11:49:43.859497856-03:00","created_by":"diogo"},{"issue_id":"shotgun-cli-bsd","depends_on_id":"shotgun-cli-6tx","type":"blocks","created_at":"2026-01-05T11:49:57.083087679-03:00","created_by":"diogo"}]}
{"id":"shotgun-cli-dey","title":"Fase 8: Atualizar Comandos CLI","description":"Modificar e criar comandos CLI:\n\n## Atualizar cmd/send.go\n- Substituir uso direto do Gemini pelo Provider interface\n- Retrocompatibilidade: verificar gemini.enabled se llm.provider não definido\n- Usar BuildLLMConfigWithOverrides() para flags\n- Criar provider via CreateLLMProvider()\n- Verificar IsAvailable() e IsConfigured()\n- Mostrar tokens e duração da resposta\n\n## Criar cmd/llm.go\nNovos subcomandos:\n\n### llm status\n- Mostra provider atual, model, base-url (mascarada), api-key (mascarada), timeout\n- Indica se está Ready ou Not configured\n\n### llm doctor\n- Diagnóstico completo\n- Verifica provider type\n- Verifica API key (exceto GeminiWeb)\n- Verifica model\n- Verifica disponibilidade do provider\n- Mostra próximos passos específicos por provider\n\n### llm list\n- Lista todos os providers suportados\n- Marca provider atual com *\n- Mostra comandos de configuração\n\n## Estimativa: 1.5 horas","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-05T11:49:21.246450127-03:00","created_by":"diogo","updated_at":"2026-01-05T11:49:21.246450127-03:00","dependencies":[{"issue_id":"shotgun-cli-dey","depends_on_id":"shotgun-cli-6xk","type":"blocks","created_at":"2026-01-05T11:49:43.846142629-03:00","created_by":"diogo"},{"issue_id":"shotgun-cli-dey","depends_on_id":"shotgun-cli-m9y","type":"blocks","created_at":"2026-01-05T11:49:57.068941803-03:00","created_by":"diogo"}]}
{"id":"shotgun-cli-fr8","title":"Fase 4: Implementar Provider Gemini API","description":"Criar pacote internal/platform/geminiapi/ com:\n\n## Arquivos\n1. client.go - Cliente HTTP para Google Gemini API\n2. types.go - Structs request/response\n3. models.go - Lista de modelos válidos\n4. client_test.go - Testes com mock HTTP\n\n## Client struct\n- apiKey, baseURL, model, timeout, httpClient\n\n## Métodos implementando Provider interface\n- Send(ctx, content) - POST /models/{model}:generateContent?key={apiKey}\n- SendWithProgress(ctx, content, progress)\n- Name() → 'Gemini'\n- IsAvailable() → true\n- IsConfigured() → apiKey != '' \u0026\u0026 model != ''\n- ValidateConfig()\n\n## Headers\n- Content-Type: application/json\n\n## Request body\n- contents[].parts[].text\n- generationConfig (maxOutputTokens, temperature, etc.)\n\n## Response parsing\n- Extrair texto de candidates[0].content.parts[]\n\n## Modelos suportados\n- gemini-2.5-flash, gemini-2.5-pro, gemini-2.0-flash, gemini-1.5-flash, gemini-1.5-pro\n\n## Estimativa: 1 hora","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-05T11:48:39.418531538-03:00","created_by":"diogo","updated_at":"2026-01-05T11:48:39.418531538-03:00","dependencies":[{"issue_id":"shotgun-cli-fr8","depends_on_id":"shotgun-cli-6xk","type":"blocks","created_at":"2026-01-05T11:49:43.821411825-03:00","created_by":"diogo"},{"issue_id":"shotgun-cli-fr8","depends_on_id":"shotgun-cli-kjf","type":"blocks","created_at":"2026-01-05T11:49:56.955201132-03:00","created_by":"diogo"},{"issue_id":"shotgun-cli-fr8","depends_on_id":"shotgun-cli-a3k","type":"blocks","created_at":"2026-01-05T11:49:56.9612691-03:00","created_by":"diogo"},{"issue_id":"shotgun-cli-fr8","depends_on_id":"shotgun-cli-bnl","type":"blocks","created_at":"2026-01-05T11:49:56.967705517-03:00","created_by":"diogo"}]}
{"id":"shotgun-cli-gkv","title":"Replace magic layout numbers with named constants","description":"**Files:**\n- `internal/ui/screens/file_selection.go`, line 44: `height-6`\n- `internal/ui/screens/task_input.go`, lines 59-60: `height-10`, `width-6`\n\n**Problem:** Hard-coded magic numbers for layout calculations make maintenance difficult.\n\n**Solution:** Create named constants:\n```go\nconst (\n    headerHeight = 6\n    footerHeight = 4\n    horizontalPadding = 6\n)\n```","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-02T12:59:08.802128715-03:00","created_by":"diogo","updated_at":"2026-01-02T12:59:08.802128715-03:00"}
{"id":"shotgun-cli-kjf","title":"Fase 1.1: Criar interface Provider","description":"Criar arquivo internal/core/llm/provider.go com:\n\n## Interface Provider\n- Send(ctx, content) (*Result, error)\n- SendWithProgress(ctx, content, progress) (*Result, error)\n- Name() string\n- IsAvailable() bool\n- IsConfigured() bool\n- ValidateConfig() error\n\n## Tipos\n- Result struct (Response, RawResponse, Model, Provider, Duration, Usage)\n- Usage struct (PromptTokens, CompletionTokens, TotalTokens)\n- ProviderType (openai, anthropic, gemini, geminiweb)\n- AllProviders() e IsValidProvider()\n\n## Estimativa: 30 min","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-05T11:48:09.99353491-03:00","created_by":"diogo","updated_at":"2026-01-05T11:48:09.99353491-03:00","dependencies":[{"issue_id":"shotgun-cli-kjf","depends_on_id":"shotgun-cli-6xk","type":"blocks","created_at":"2026-01-05T11:49:43.787766819-03:00","created_by":"diogo"}]}
{"id":"shotgun-cli-lvj","title":"Standardize Update method signatures across screens","description":"**Problem:** Screen sub-models have inconsistent `Update()` method signatures:\n\n| Screen | Signature |\n|--------|-----------|\n| `FileSelectionModel` | `Update(msg tea.KeyMsg, selections map[string]bool) tea.Cmd` |\n| `TemplateSelectionModel` | `Update(msg tea.KeyMsg) (*template.Template, tea.Cmd)` |\n| `TaskInputModel` | `Update(msg tea.KeyMsg) (string, tea.Cmd)` |\n| `ReviewModel` | `Update(msg tea.KeyMsg) tea.Cmd` |\n\n**Solution:** Standardize all screens to follow `tea.Model` interface:\n```go\nUpdate(msg tea.Msg) (tea.Model, tea.Cmd)\n```\n\nThis enables standard Bubble Tea patterns like embedding models.","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-02T12:59:06.420285194-03:00","created_by":"diogo","updated_at":"2026-01-02T12:59:06.420285194-03:00"}
{"id":"shotgun-cli-m9y","title":"Fase 7: Atualizar Sistema de Configuração","description":"Modificar arquivos de configuração existentes:\n\n## cmd/root.go - setConfigDefaults()\nAdicionar novos defaults:\n- llm.provider → 'geminiweb' (retrocompatível)\n- llm.api-key → ''\n- llm.base-url → ''\n- llm.model → ''\n- llm.timeout → 300\n\n## cmd/config.go\nAdicionar validações para:\n- llm.provider (openai|anthropic|gemini|geminiweb)\n- llm.api-key (string)\n- llm.base-url (URL válida ou vazio)\n- llm.model (string)\n- llm.timeout (1-3600 segundos)\n\n## Criar cmd/config_llm.go\n- BuildLLMConfig() llm.Config\n  - Lê configurações do Viper\n  - Aplica defaults do provider\n- BuildLLMConfigWithOverrides(model, timeout) llm.Config\n  - Permite override via flags\n\n## Estimativa: 1 hora","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-05T11:48:58.018229083-03:00","created_by":"diogo","updated_at":"2026-01-05T11:48:58.018229083-03:00","dependencies":[{"issue_id":"shotgun-cli-m9y","depends_on_id":"shotgun-cli-6xk","type":"blocks","created_at":"2026-01-05T11:49:43.839987535-03:00","created_by":"diogo"},{"issue_id":"shotgun-cli-m9y","depends_on_id":"shotgun-cli-7ig","type":"blocks","created_at":"2026-01-05T11:49:57.062410908-03:00","created_by":"diogo"}]}
{"id":"shotgun-cli-om7","title":"Implement 'c' key handler for clipboard copy in review screen","description":"**File:** `internal/ui/screens/review.go`, lines 80-86\n\n**Problem:** The footer mentions `c: Copy to Clipboard` (line 284) but this shortcut isn't implemented in the `Update` method. The 'c' key is never handled.\n\n**Solution:** Add key handler for 'c' to copy content to clipboard.","status":"open","priority":1,"issue_type":"bug","created_at":"2026-01-02T12:58:53.210797208-03:00","created_by":"diogo","updated_at":"2026-01-02T12:58:53.210797208-03:00"}
{"id":"shotgun-cli-owp","title":"Add fuzzy match highlighting in file tree","description":"**File:** `internal/ui/screens/file_selection.go`, lines 186-188\n\n**Problem:** The filter input shows a blinking cursor but doesn't highlight matched characters in the tree view.\n\n**Solution:** Highlight matched characters in file names to help users understand what's matching during fuzzy search.","status":"open","priority":3,"issue_type":"feature","created_at":"2026-01-02T12:59:15.758130756-03:00","created_by":"diogo","updated_at":"2026-01-02T12:59:15.758130756-03:00"}
{"id":"shotgun-cli-r8h","title":"Remove direct Viper access from UI layer","description":"**Files:** \n- `internal/ui/wizard.go`, lines 585-588\n- `internal/ui/screens/review.go`, lines 67-70\n\n**Problem:** Direct Viper access in UI layer violates clean architecture principles.\n\n**Solution:** Inject configuration via constructor instead of accessing Viper directly in the UI layer.","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-02T12:59:07.421191179-03:00","created_by":"diogo","updated_at":"2026-01-02T12:59:07.421191179-03:00"}
{"id":"shotgun-cli-tgt","title":"Fix spinner not animating in progress component","description":"**File:** `internal/ui/wizard.go`, line 180 and `internal/ui/components/progress.go`, lines 38-48\n\n**Problem:** The spinner has an `Init()` method that returns `m.spinner.Tick`, but this is never called by the parent wizard. The progress component's spinner won't animate.\n\n**Solution:** Call `progressComponent.Init()` in wizard's `Init()` via `tea.Batch`:\n\n```go\nfunc (m *WizardModel) Init() tea.Cmd {\n    return tea.Batch(\n        scanDirectoryCmd(m.rootPath, m.config),\n        m.progressComponent.spinner.Tick,\n    )\n}\n```","status":"open","priority":1,"issue_type":"bug","created_at":"2026-01-02T12:58:57.688517778-03:00","created_by":"diogo","updated_at":"2026-01-02T12:58:57.688517778-03:00"}
{"id":"shotgun-cli-xyi","title":"Replace time.Sleep with tick-based polling in commands","description":"**File:** `internal/ui/wizard.go`, line 964\n\n**Problem:** The code uses `time.Sleep` for synchronization within command functions, which blocks the event loop and causes UI jankiness.\n\n**Solution:** Replace with proper tick-based polling using `tea.Tick`:\n\n```go\nfunc (m *WizardModel) pollScanProgress() tea.Cmd {\n    return tea.Tick(50*time.Millisecond, func(t time.Time) tea.Msg {\n        // poll logic here\n    })\n}\n```","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-02T12:59:01.537053357-03:00","created_by":"diogo","updated_at":"2026-01-02T12:59:01.537053357-03:00"}
{"id":"shotgun-cli-zwi","title":"Add help text for empty template state","description":"**File:** `internal/ui/screens/template_selection.go`, line 168\n\n**Problem:** Users see \"No templates found\" but get no guidance on how to add templates.\n\n**Solution:** Add help text like:\n```go\n\"No templates found.\\n\\nRun `shotgun template create` to add templates.\"\n```","status":"open","priority":2,"issue_type":"feature","created_at":"2026-01-02T12:59:09.790295189-03:00","created_by":"diogo","updated_at":"2026-01-02T12:59:09.790295189-03:00"}
